[gd_scene load_steps=6 format=3 uid="uid://3bynxbfwy551"]

[ext_resource type="Script" uid="uid://ch1gc80gmlcsl" path="res://level.gd" id="1_f2txt"]
[ext_resource type="PackedScene" uid="uid://dxhjuxxh3b3x" path="res://boss_1.tscn" id="3_oi3di"]
[ext_resource type="Texture2D" uid="uid://cwnylkb2dm2ow" path="res://graphics/bg1.jpg" id="4_0b4ue"]
[ext_resource type="PackedScene" uid="uid://b80huxwe514gw" path="res://enemy1.tscn" id="5_f2txt"]
[ext_resource type="PackedScene" uid="uid://dgil2vxuj5wcv" path="res://player.tscn" id="6_1ainy"]

[node name="level" type="Node2D"]
script = ExtResource("1_f2txt")

[node name="boss1" parent="." instance=ExtResource("3_oi3di")]
visible = false
position = Vector2(640, 250)

[node name="bg" type="CanvasLayer" parent="."]
layer = -1

[node name="TextureRect" type="TextureRect" parent="bg"]
offset_left = -432.0
offset_top = -544.0
offset_right = 3408.0
offset_bottom = 1616.0
texture = ExtResource("4_0b4ue")

[node name="StartTimer" type="Timer" parent="."]

[node name="StartPos" type="Marker2D" parent="."]
position = Vector2(640, 650)

[node name="player" parent="." instance=ExtResource("6_1ainy")]
position = Vector2(640, 360)

[node name="enemy1" parent="." instance=ExtResource("5_f2txt")]

[node name="enemy2" parent="." instance=ExtResource("5_f2txt")]

[node name="enemy3" parent="." instance=ExtResource("5_f2txt")]

[node name="ShieldTimer" type="Timer" parent="."]
one_shot = true

[node name="InvulnerabilityTimer" type="Timer" parent="."]
one_shot = true

[node name="ShieldCooldownTimer" type="Timer" parent="."]
one_shot = true

[node name="UI" type="CanvasLayer" parent="."]

[node name="CooldownRect" type="ColorRect" parent="UI"]
visible = false
modulate = Color(1, 1, 1, 0.313726)
z_index = 1
z_as_relative = false
offset_left = 60.0
offset_top = 600.0
offset_right = 100.0
offset_bottom = 640.0
rotation = 3.14159
color = Color(1, 1, 1, 0.705882)

[node name="ShieldLabel" type="Label" parent="UI"]
z_as_relative = false
offset_left = 20.0
offset_top = 560.0
offset_right = 60.0
offset_bottom = 600.0
theme_override_font_sizes/font_size = 28
text = "Q"
horizontal_alignment = 1
vertical_alignment = 1

[node name="CooldownLabel" type="Label" parent="UI/ShieldLabel"]
offset_top = 40.0
offset_right = 40.0
offset_bottom = 63.0
theme_override_colors/font_color = Color(1, 1, 1, 1)

[node name="HealthLabel" type="Label" parent="UI"]
offset_left = 350.0
offset_top = 520.0
offset_right = 390.0
offset_bottom = 543.0

[node name="TakeDamageHint" type="Label" parent="UI"]
visible = false
custom_minimum_size = Vector2(50, 0)
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -235.5
offset_right = 235.5
offset_bottom = 23.0
grow_horizontal = 2
text = "Upon taking damage, you become invulnerable for 2 seconds"

[node name="UI_background" type="ColorRect" parent="UI"]
z_index = -1
z_as_relative = false
offset_top = 520.0
offset_right = 800.0
offset_bottom = 640.0
color = Color(0, 0, 0, 1)

[connection signal="hit" from="player" to="." method="_on_player_hit"]
[connection signal="timeout" from="ShieldTimer" to="." method="_on_shield_timer_timeout"]
[connection signal="timeout" from="InvulnerabilityTimer" to="." method="_on_invulnerability_timer_timeout"]
[connection signal="timeout" from="ShieldCooldownTimer" to="." method="_on_shield_cooldown_timer_timeout"]
